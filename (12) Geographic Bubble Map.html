// https://react-select.com/homeì—ì„œ Experimental(popup) í˜•ì‹ì˜ ë“œë¡­ë‹¤ìš´ ì‚¬ìš©í•˜ê¸° (ê²€ìƒ‰ì´ ë˜ëŠ”ë° ì—†ì–´ë„ ê·¸ë§Œì¸ì§€ëŠ” ìƒê° í•„ìš”) //
// ì§€ì—­-ì§€ë¦¬ ë§¤ì¹­ì•ˆë˜ëŠ” ë¬¸ì œ í•´ê²°í•˜ê¸°!!! (hc-key í•´ë´¤ëŠ”ë° ì‹¤íŒ¨) //

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>2024ë…„ N-SIC ì‚°ì—…ë³„ ê¸°ì—…ìˆ˜ ë¶„í¬</title>
  <script src="https://code.highcharts.com/maps/highmaps.js"></script>
  <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/maps/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/maps/modules/accessibility.js"></script>
  <script src="https://code.highcharts.com/mapdata/countries/kr/kr-all.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      background: #f8f9fa; /* ë¶€ë“œëŸ¬ìš´ íšŒìƒ‰ ë°°ê²½ */
    }

    #container-wrapper {
      max-width: 800px;
      margin: 2em auto;
      background: #ffffff;
      padding: 20px 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

#header-area {
  display: flex;
  flex-direction: column; /* âœ… ì„¸ë¡œë¡œ ìŒ“ì´ê²Œ */
  align-items: flex-start; /* âœ… ì™¼ìª½ ì •ë ¬ */
  gap: 10px; /* âœ… íƒ€ì´í‹€ê³¼ ë“œë¡­ë‹¤ìš´ ê°„ê²© */
  margin-bottom: 20px;
}

    #title {
      font-size: 20px;
      font-weight: bold;
      color: #333;
    }

    #dropdown-wrapper {
      display: flex;
      align-items: center;
    }

    #industryDropdown {
      font-size: 14px;
      padding: 8px 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background-color: #fff;
      color: #333;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
    }

    #industryDropdown:hover {
      border-color: #888;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    #container {
      height: 720px;
      width: 100%;
      margin-top: 10px;
    }
  </style>
</head>

<body>

<div id="container-wrapper">
  <div id="header-area">
    <div id="title">2024ë…„ N-SIC ì‚°ì—…ë³„ ê¸°ì—…ìˆ˜ ë¶„í¬</div>
    <div id="dropdown-wrapper">
      <select id="industryDropdown" onchange="onDropdownChange()">
        <option value="all">ì „ì²´</option>
        <option value="ê²Œì„">ê²Œì„</option>
        <option value="ë§ˆì¼€íŒ…">ë§ˆì¼€íŒ…</option>
        <option value="ê¸ˆìœµ">ê¸ˆìœµ</option>
        <option value="ë¼ì´í”„ìŠ¤íƒ€ì¼">ë¼ì´í”„ìŠ¤íƒ€ì¼</option>
        <option value="ìƒëª…ê³¼í•™">ìƒëª…ê³¼í•™</option>
        <option value="IT/ICT">IT/ICT</option>
        <option value="ì „ë¬¸ì§€ì‹ì„œë¹„ìŠ¤">ì „ë¬¸ì§€ì‹ì„œë¹„ìŠ¤</option>
        <option value="ê°€ìƒí˜„ì‹¤">ê°€ìƒí˜„ì‹¤</option>
        <option value="ì¼ë°˜ì§€ì‹ì„œë¹„ìŠ¤">ì¼ë°˜ì§€ì‹ì„œë¹„ìŠ¤</option>
        <option value="ë¯¸ë””ì–´">ë¯¸ë””ì–´</option>
        <option value="ë³´ì•ˆ">ë³´ì•ˆ</option>
        <option value="êµìœ¡">êµìœ¡</option>
        <option value="ë·°í‹°">ë·°í‹°</option>
        <option value="í—¬ìŠ¤ì¼€ì–´">í—¬ìŠ¤ì¼€ì–´</option>
        <option value="ë¶€ë™ì‚°">ë¶€ë™ì‚°</option>
        <option value="ì˜ë£Œê¸°ê¸°">ì˜ë£Œê¸°ê¸°</option>
        <option value="ìœ í†µ">ìœ í†µ</option>
        <option value="íŒ¨ì…˜">íŒ¨ì…˜</option>
        <option value="í†µì‹ ">í†µì‹ </option>
        <option value="ìŠ¤ë§ˆíŠ¸í°">ìŠ¤ë§ˆíŠ¸í°</option>
        <option value="ì¼ë°˜ì œí’ˆ">ì¼ë°˜ì œí’ˆ</option>
        <option value="ê³µê³µì‚°ì—…">ê³µê³µì‚°ì—…</option>
        <option value="ì²¨ë‹¨ì‚°ì—…">ì²¨ë‹¨ì‚°ì—…</option>
        <option value="ë†ì—…/ì„ì—…/ì–´ì—…">ë†ì—…/ì„ì—…/ì–´ì—…</option>
        <option value="ë°˜ë ¤ë™ë¬¼">ë°˜ë ¤ë™ë¬¼</option>
        <option value="ë¡œë´‡">ë¡œë´‡</option>
        <option value="ì²œì—°ìì›">ì²œì—°ìì›</option>
        <option value="ì¼ë°˜ì‚°ì—…">ì¼ë°˜ì‚°ì—…</option>
        <option value="ì „ì§€ì „ì">ì „ê¸°ì „ì</option>
        <option value="ì‹œìŠ¤í…œë°˜ë„ì²´">ì‹œìŠ¤í…œë°˜ë„ì²´</option>
        <option value="ìŠ¤ë§ˆíŠ¸ì‚°ì—…">ìŠ¤ë§ˆíŠ¸ì‚°ì—…</option>
        <option value="í™˜ê²½">í™˜ê²½</option>
        <option value="í™”í•™">í™”í•™</option>
        <option value="ì „ë¬¸ì œì¡°">ì „ë¬¸ì œì¡°</option>
        <option value="ë°˜ë„ì²´">ë°˜ë„ì²´</option>
        <option value="ê±´ì„¤">ê±´ì„¤</option>
        <option value="ì¼ë°˜ì œì¡°">ì¼ë°˜ì œì¡°</option>
        <option value="êµí†µ ë° ìš´ìˆ˜">êµí†µ ë° ìš´ìˆ˜</option>
        <option value="ë””ìŠ¤í”Œë ˆì´">ë””ìŠ¤í”Œë ˆì´</option>
        <option value="ëª¨ë¹Œë¦¬í‹°">ëª¨ë¹Œë¦¬í‹°</option>
        <option value="ì—ë„ˆì§€">ì—ë„ˆì§€</option>
      </select>
    </div>
  </div>

  <div id="container"></div>
</div>

<script>
// ìƒ˜í”Œ ë°ì´í„°
const bubbleData = [
  { name: "ì„œìš¸", lat: 37.5665, lon: 126.9780, z: 61.5, industry: "ê²Œì„", color: "#f08060" },
  { name: "ê²½ê¸°", lat: 37.4138, lon: 127.5183, z: 29.2, industry: "ê²Œì„", color: "#f49a80" },
  { name: "ê²½ë‚¨", lat: 35.4606, lon: 128.2132, z: 1.5, industry: "ê²Œì„", color: "#f7b39f" },
  { name: "ì œì£¼", lat: 33.4996, lon: 126.5312, z: 1.5, industry: "ê²Œì„", color: "#f9c7b8" },
  { name: "ì¸ì²œ", lat: 37.4563, lon: 126.7052, z: 1.5, industry: "ê²Œì„", color: "#fbdcd1" },
  { name: "ì„œìš¸", lat: 37.5665, lon: 126.9780, z: 69.7, industry: "ë§ˆì¼€íŒ…", color: "#5fa8d3" },
  { name: "ê²½ê¸°", lat: 37.4138, lon: 127.5183, z: 18.0, industry: "ë§ˆì¼€íŒ…", color: "#7db9dc" },
  { name: "ì¸ì²œ", lat: 37.4563, lon: 126.7052, z: 2.2, industry: "ë§ˆì¼€íŒ…", color: "#9ac9e4" },
  { name: "ì¶©ë¶", lat: 36.6358, lon: 127.4914, z: 2.2, industry: "ë§ˆì¼€íŒ…", color: "#b7daed" },
  { name: "ì¶©ë‚¨", lat: 36.5184, lon: 126.8000, z: 2.2, industry: "ë§ˆì¼€íŒ…", color: "#d4ebf6" },
  { name: "ì„œìš¸", lat: 37.5665, lon: 126.9780, z: 65.8, industry: "ê¸ˆìœµ", color: "#66c2a5" },
  { name: "ê²½ê¸°", lat: 37.4138, lon: 127.5183, z: 19.2, industry: "ê¸ˆìœµ", color: "#83d1b6" },
  { name: "ëŒ€êµ¬", lat: 35.8714, lon: 128.6014, z: 1.9, industry: "ê¸ˆìœµ", color: "#a0e1c7" },
  { name: "ì¸ì²œ", lat: 37.4563, lon: 126.7052, z: 1.9, industry: "ê¸ˆìœµ", color: "#bcefd8" },
  { name: "ì¶©ë¶", lat: 36.6358, lon: 127.4914, z: 1.7, industry: "ê¸ˆìœµ", color: "#d8fff0" },
  // ì¶”ê°€ ë°ì´í„° ë„£ìœ¼ë©´ ë¨
];

let chart = Highcharts.mapChart('container', {
  chart: {
    map: 'countries/kr/kr-all',
    marginTop: 0,
    spacingBottom: 50,
    height: 720,
    animation: {
      duration: 1200,
      easing: 'easeOutBounce'
    }
  },
  title: { text: null },
  credits: { enabled: false },
  mapNavigation: {
    enabled: true,
    enableMouseWheelZoom: false,
    buttonOptions: { verticalAlign: 'bottom' }
  },
  tooltip: {
    useHTML: true,
    backgroundColor: '#ffffff',
    borderColor: '#cccccc',
    borderRadius: 8,
    borderWidth: 1,
    shadow: true,
    style: {
      color: '#333',
      fontFamily: 'Montserrat, sans-serif',
      fontSize: '12px'
    },
    headerFormat: '',
    pointFormat: `
      <div style="text-align:left; line-height:1.8;">
        ğŸ“ ì§€ì—­: <strong>{point.name}</strong><br/>
        ğŸ­ ì‚°ì—…: <strong>{point.industry}</strong><br/>
        ğŸ“Š ë¹„ì¤‘: <strong>{point.z}%</strong>
      </div>`
  },
  legend: { enabled: false },
  series: [
    {
      name: 'ëŒ€í•œë¯¼êµ­ ì§€ë„',
      mapData: Highcharts.maps['countries/kr/kr-all'],
      borderColor: '#A0A0A0',
      nullColor: '#f5f5f5',
      showInLegend: false
    },
    {
      type: 'mapbubble',
      name: 'ê¸°ì—…ìˆ˜ ë¶„í¬',
      data: bubbleData,
      minSize: '9%',
      maxSize: '15%',
      joinBy: null,
      dataLabels: {
        enabled: true,
        format: '{point.name}',
        style: {
          fontSize: '11px',
          color: '#333',
          textOutline: 'none'
        }
      }
    }
  ]
});

// ë“œë¡­ë‹¤ìš´ í•„í„°ë§
function onDropdownChange() {
  const selected = document.getElementById('industryDropdown').value;
  const series = chart.series[1];

  if (selected === 'all') {
    series.setData(bubbleData, true);
  } else {
    const filtered = bubbleData.filter(d => d.industry === selected);
    series.setData(filtered, true);
  }
}
</script>

</body>
</html>

